<!DOCTYPE html>
<html>
<head>
    <title>Sound Generator</title>
</head>
<body>
    <button onclick="generateAndDownload()">Generate Click Sound</button>
    <script>
        async function generateAndDownload() {
            const audioContext = new (window.AudioContext || window.webkitAudioContext)();
            const duration = 0.1; // 100ms click
            
            // Create oscillator
            const oscillator = audioContext.createOscillator();
            oscillator.type = 'sine';
            oscillator.frequency.setValueAtTime(800, audioContext.currentTime);
            
            // Create gain node for envelope
            const gainNode = audioContext.createGain();
            gainNode.gain.setValueAtTime(0, audioContext.currentTime);
            gainNode.gain.linearRampToValueAtTime(0.3, audioContext.currentTime + 0.01);
            gainNode.gain.linearRampToValueAtTime(0, audioContext.currentTime + duration);
            
            // Connect nodes
            oscillator.connect(gainNode);
            gainNode.connect(audioContext.destination);
            
            // Start recording
            const mediaStreamDest = audioContext.createMediaStreamDestination();
            gainNode.connect(mediaStreamDest);
            const mediaRecorder = new MediaRecorder(mediaStreamDest.stream);
            const chunks = [];
            
            mediaRecorder.ondataavailable = (e) => chunks.push(e.data);
            mediaRecorder.onstop = () => {
                const blob = new Blob(chunks, { type: 'audio/mp3' });
                const url = URL.createObjectURL(blob);
                const a = document.createElement('a');
                a.href = url;
                a.download = 'click.mp3';
                a.click();
            };
            
            // Start and stop
            mediaRecorder.start();
            oscillator.start();
            
            setTimeout(() => {
                oscillator.stop();
                mediaRecorder.stop();
            }, duration * 1000);
        }
    </script>
</body>
</html> 