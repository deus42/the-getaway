import{j as t,r as i,i as M,R as W}from"./vendor-Cc93p67d.js";const X=({count:l,color:o="#ef4444",size:s=20,pulse:r=!0})=>{if(l<=0)return null;const d={minWidth:`${s}px`,height:`${s}px`,padding:"0 4px",borderRadius:"999px",background:`linear-gradient(135deg, ${o}, ${o}dd)`,border:`1.5px solid ${o}`,display:"inline-flex",alignItems:"center",justifyContent:"center",fontSize:`${s*.55}px`,fontWeight:800,color:"#ffffff",boxShadow:`0 0 12px ${o}aa, 0 4px 8px rgba(0, 0, 0, 0.4)`,textShadow:"0 1px 2px rgba(0, 0, 0, 0.6)",letterSpacing:"-0.02em",animation:r?"notificationPulse 2s ease-in-out infinite":"none"};return t.jsxs(t.Fragment,{children:[t.jsx("style",{children:`
        @keyframes notificationPulse {
          0%, 100% {
            transform: scale(1);
            box-shadow: 0 0 12px ${o}aa, 0 4px 8px rgba(0, 0, 0, 0.4);
          }
          50% {
            transform: scale(1.15);
            box-shadow: 0 0 20px ${o}ff, 0 6px 12px rgba(0, 0, 0, 0.5);
          }
        }
      `}),t.jsx("span",{style:d,children:l>99?"99+":l})]})},P={fontWeight:600,letterSpacing:"0.08em",textTransform:"uppercase",color:"#38bdf8",fontSize:"0.76rem"},F={fontSize:"0.72rem",color:"rgba(226, 232, 240, 0.85)"},k={margin:0,padding:0,listStyle:"none",display:"flex",flexDirection:"column",gap:"0.2rem",fontSize:"0.7rem",color:"rgba(148, 163, 184, 0.95)"},B={display:"flex",flexWrap:"wrap",gap:"0.4rem",fontSize:"0.7rem",color:"rgba(148, 163, 184, 0.9)"},D={fontSize:"0.68rem",color:"rgba(148, 163, 184, 0.75)"},A=({title:l,description:o,lines:s,meta:r,footer:d})=>t.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.35rem"},children:[t.jsx("div",{style:P,children:l}),o&&t.jsx("div",{style:F,children:o}),s&&s.length>0&&t.jsx("ul",{style:k,children:s.map(a=>t.jsxs("li",{children:["• ",a]},a))}),r&&r.length>0&&t.jsx("div",{style:B,children:r.map((a,f)=>t.jsxs(W.Fragment,{children:[f>0&&t.jsx("span",{"aria-hidden":"true",children:"•"}),t.jsx("span",{children:a})]},`${a}-${f}`))}),d&&t.jsx("div",{style:D,children:d})]}),V=({content:l,children:o,wrapperStyle:s})=>{const[r,d]=i.useState(!1),[a,f]=i.useState({left:0,top:0}),x=i.useRef(null),g=i.useRef(null),m=i.useRef(null),c=i.useRef(null),y=()=>{if(c.current)return c.current;const e=document.createElement("div");return e.style.position="relative",e.style.zIndex="11001",document.body.appendChild(e),c.current=e,e},h=i.useCallback(e=>{const n=m.current,j=(n==null?void 0:n.offsetWidth)??0,E=(n==null?void 0:n.offsetHeight)??0,$=e.left+e.width/2-j/2,T=Math.min(Math.max($,12),window.innerWidth-j-12),L=e.top-E-10,z=Math.max(L,12);return{left:T,top:z}},[]),u=i.useCallback(()=>{const e=x.current;if(!e)return;const p=h(e);f(n=>Math.abs(n.left-p.left)<.5&&Math.abs(n.top-p.top)<.5?n:p)},[h]),b=e=>{e&&(y(),x.current=e,f(h(e)),d(!0))},S=()=>{d(!1)},v=e=>{b(e.currentTarget.getBoundingClientRect())},w=e=>{b(e.currentTarget.getBoundingClientRect())};i.useEffect(()=>(y(),()=>{c.current&&(document.body.removeChild(c.current),c.current=null)}),[]),i.useLayoutEffect(()=>{if(!r)return;u();const e=()=>{var n;const p=(n=g.current)==null?void 0:n.getBoundingClientRect();p&&(x.current=p,u())};return window.addEventListener("scroll",e,!0),window.addEventListener("resize",e),()=>{window.removeEventListener("scroll",e,!0),window.removeEventListener("resize",e)}},[r,l,u]),i.useLayoutEffect(()=>{r&&u()});const R={position:"fixed",left:`${a.left}px`,top:`${a.top}px`,backgroundColor:"rgba(15, 23, 42, 0.98)",color:"#e2e8f0",padding:"0.55rem 0.85rem",borderRadius:"8px",fontSize:"0.75rem",lineHeight:1.45,maxWidth:"320px",border:"1px solid rgba(56, 189, 248, 0.3)",boxShadow:"0 10px 25px rgba(0, 0, 0, 0.5)",pointerEvents:"none",zIndex:11001,opacity:r?1:0,transition:"opacity 0.15s ease",whiteSpace:"normal",display:"flex",flexDirection:"column",gap:"0.35rem",textAlign:"left"},C=r&&c.current?M.createPortal(t.jsx("div",{ref:m,style:R,children:l}),c.current):null;return t.jsxs(t.Fragment,{children:[t.jsx("div",{ref:g,onMouseEnter:v,onMouseLeave:S,onFocus:w,onBlur:S,style:s,children:o}),C]})};export{X as N,V as T,A as a};
